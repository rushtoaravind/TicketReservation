create database ticketreservation;

CREATE TABLE `ticketreservation`.`AUDITORIUM_MASTER` (
  `TIER_ID` INT NOT NULL AUTO_INCREMENT,
  `TIER_NAME` VARCHAR(45) NOT NULL,
  `TIER_ROWS` INT NOT NULL,
  `TIER_ROW_CAPACITY` INT NOT NULL,
  `TIER_TOTAL_CAPACITY` INT NOT NULL,
  `TIER_FEES` INT NOT NULL,
  PRIMARY KEY (`TIER_ID`));

INSERT INTO `ticketreservation`.`AUDITORIUM_MASTER`
(
`TIER_NAME`,
`TIER_ROWS`,
`TIER_ROW_CAPACITY`,
`TIER_TOTAL_CAPACITY`,
`TIER_FEES`)
VALUES
('Orchestra',25,50,1250,100);

INSERT INTO `ticketreservation`.`AUDITORIUM_MASTER`
(
`TIER_NAME`,
`TIER_ROWS`,
`TIER_ROW_CAPACITY`,
`TIER_TOTAL_CAPACITY`,
`TIER_FEES`)
VALUES
('Main',20,100,2000,75);

INSERT INTO `ticketreservation`.`AUDITORIUM_MASTER`
(
`TIER_NAME`,
`TIER_ROWS`,
`TIER_ROW_CAPACITY`,
`TIER_TOTAL_CAPACITY`,
`TIER_FEES`)
VALUES
('Balcony1',15,100,1500,50);

INSERT INTO `ticketreservation`.`AUDITORIUM_MASTER`
(
`TIER_NAME`,
`TIER_ROWS`,
`TIER_ROW_CAPACITY`,
`TIER_TOTAL_CAPACITY`,
`TIER_FEES`)
VALUES
('Balcony2',15,100,1500,40);

SEAT_RESERVATION_REPOSITORY

CREATE TABLE `ticketreservation`.`SEAT_RESERVATION_REPOSITORY` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `TIER_ID` int(11) NOT NULL,
  `SEAT_ID` varchar(45) NOT NULL,
  `SEAT_AVAILABLE` varchar(45) NOT NULL,
  `RESERVATION_ID` int(11) DEFAULT NULL,
  `CREATED_TIME_STAMP` datetime DEFAULT NULL,
  `UPDATED_TIME_STAMP` datetime DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=6251 DEFAULT CHARSET=utf8;

CREATE TABLE `ticketreservation`.`DATA_CONFIG` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `DATA_TEXT` varchar(45) DEFAULT NULL,
  `DATA_VALUE` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;

insert into ticketreservation.DATA_CONFIG(DATA_TEXT,DATA_VALUE) values("RESERVATION_TIMEOUT",60000);
insert into ticketreservation.DATA_CONFIG(DATA_TEXT,DATA_VALUE) values("MAX_TICKET",5);

CREATE TABLE  `ticketreservation`.`USER_RESERVATION` (
  `RESERVATION_ID` int(11) NOT NULL AUTO_INCREMENT,
  `USER_NAME` varchar(1024) DEFAULT NULL,
  `CUSTOMER_EMAIL` varchar(1024) NOT NULL,
  `SEAT_ON_HOLD` varchar(45) NOT NULL,
  `SEAT_RESERVED` varchar(45) NOT NULL,
  `CREATED_TIME_STAMP` datetime NOT NULL,
  `UPDATED_TIME_STAMP` datetime NOT NULL,
  `RESERVATION_AMOUNT` int(11) NOT NULL,
  PRIMARY KEY (`RESERVATION_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=28 DEFAULT CHARSET=utf8;

